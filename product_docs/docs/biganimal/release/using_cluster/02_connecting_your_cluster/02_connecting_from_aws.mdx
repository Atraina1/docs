---
title: Connecting from AWS 

---

The VPC endpoint method is recommended and is most commonly used to enable you to connect to your cluster from your application's VPC in AWS. However, you can implement either of the other solutions depending on your organization's requirements.

- VPC endpoint method
- VPC peering connection with a VPC in another AWS account
- VPC peering connection with another VPC in your account





In case the customer is using a different AWS Account other than the one where BigAnimal is (preferred option:)
 https://docs.aws.amazon.com/vpc/latest/peering/create-vpc-peering-connection.html#create-vpc-peering-connection-remote

same AWS Account as bigAnimal, different VPC:
https://docs.aws.amazon.com/vpc/latest/peering/create-vpc-peering-connection.html#create-vpc-peering-connection-local
I am not sure I can add much. If you want some screenshot I can do it

How to create a private link in AWS

Based on this:
 https://docs.aws.amazon.com/vpc/latest/privatelink/create-endpoint-service.html 

The first thing is to select the region where your cluster is located on AWS and go into the vpc service page. 

Click on “Endpoint Services” in the left pane



Click “create endpoint service”



Insert a name of your choice and select Network as Load Balancer Type.

Select the load balancer of the cluster you want to reach.


Leave all the other parameters with their default value a click “Create”.

Save the “Service name” from the Details tab because you will need it later.


Add any AWS account you want to use the private link from in the “Allow Principal” list.

The arn should look like this arn:aws:iam::<AWS ACCOUNT ID>:root
. I.E. arn:aws:iam::123456789123:root



Now that your service endpoint is created you just need to connect it to the VPC of your choosing. 

This part is partly based on https://docs.aws.amazon.com/vpc/latest/privatelink/vpce-interface.html#create-interface-endpoint 

Go to the AWS Account you want to create the private endpoint. Select the same region of your pg cluster and open the VPC service in the portal.
Click on “Endpoints” in the left pane and create a new endpoint.




Insert a name of your choice, select “Other endpoint services” and paste the name you saved in the previous step.  You can verify if you copied the correct name and if you successfully allowed this account to access the endpoint by clicking “verify service”

Now select which vpc you want to create the endpoint into and which AZ. We suggest to enable the endpoint in all AZ used by your application. Make sure to also have a security group that allow your application to connect to your pg cluster.



Once  that is done you need to go back to your BigAnimal AWS Account, onto VPC -> Endpoint services. Select the one you created previously and accept the connection.



After a few minutes everything should be ready to be used.
You can find the private endpoint DNS endpoint in the details section in your application AWS Account under “DNS names”




