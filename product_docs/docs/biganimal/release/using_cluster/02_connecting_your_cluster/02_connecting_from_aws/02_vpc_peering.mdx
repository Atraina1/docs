---
title: VPC peering example

---

This example shows how to connect using VPC peering. 

!!! Note
    Ensure that your VPCs do not have overlapping IPv4 CIDR blocks. If they do, the status of the VPC peering connection immediately goes to failed. This limitation applies even if the VPCs have unique IPv6 CIDR blocks.
    
[What is BigAnimal's address space in AWS?]()

Assume that your cluster is on a account called `development` and is being accessed from a Linux client VM on another account called `test` with the following properties:

-   Cluster:
    -   AWS account name: `development`
    -   Cluster ID: `p-c4j0jfcmp3af2ieok5eg` 
    -   Account ID: `brcxzr08qr7rbei1` 
    -   Organization's domain name: `biganimal.io` 
    


-   Linux client VM called `vm-client`:
    -   Subscription: `test`
    -   Resource group: `rg-client`
    -   Virtual network: `vnet-client`
    -   Virtual network subnet: `snet-client`
    -   VPC ID: ``
    [Need to provide a sample name here]()


#### Prerequisites

To walk through an example in your own environment, you need:

-   Your cluster URL. You can find the URL in the **Connect** tab of your cluster instance in the BigAnimal portal.
-   The IP address of your cluster. You can find the IP address of your cluster using the following command:

    ```
    $ dig +short p-c4j0jfcmp3af2ieok5eg.brcxzr08qr7rbei1.biganimal.io 
    10.240.1.218
    ```
-   A Postgresql client, such as [psql](https://www.postgresql.org/download/), installed on your client VM.

## VPC peering connection with a VPC in another AWS account

After you've created the request, the owner of the accepter VPC must accept the VPC peering connection to activate it.

You can create a VPC peering connection with a VPC in the same Region, or a different Region.

### To request a VPC peering connection with a VPC in another account

1. Open the Amazon VPC console at https://console.aws.amazon.com/vpc/.

1. In the navigation pane, select **Peering Connections**, and then click **Create Peering Connection**.

1. Enter a suitable name for the peering connection.

1. Configure the information as follows, and select **Create Peering Connection** when you are done:
 - **VPC (Requester)**: Select the VPC in your account with which to create the VPC peering connection.
 - **Account**: Choose Another account.
 - **Account ID**: Enter the AWS account ID of the owner of the accepter VPC.
 - **Region**: (optional)Choose Another region, select the Region in which the accepter VPC resides.
 - **VPC (Accepter)**: Enter the ID of the VPC with which to create the VPC peering connection.

1. In the confirmation dialog box, select **OK**.

## VPC peering connection with another VPC in your account 

The two connecting VPCs must both create and accept the VPC peering connection request to activate it.

You can create a VPC peering connection with a VPC in the same Region, or a different Region.


### To create a VPC peering connection with a VPC in the same region

1. Open the Amazon VPC console at https://console.aws.amazon.com/vpc/.

1. In the navigation pane, select **Peering Connections**, and then click **Create Peering Connection**.

1. Under **VPC (Requester)**: Select the VPC in your account with which you want to create the VPC peering connection.

1. Ensure **My account** is selected. 
 
1. Select **Another VPC to peer with** and then select **Add tag** and enter the key-value pair of the VPC you want to connect with.

1. Select **Create Peering Connection**.

1. In the confirmation dialog box, select **OK**.

Select the VPC peering connection that you've created, select **Actions**, and then select **Accept Request**.

In the confirmation dialog, select **Yes, Accept**. A second confirmation dialog displays; choose Modify my route tables now to go directly to the route tables page, or choose Close to do this later.

### To create a VPC peering connection with a VPC in a different Region

1. Open the Amazon VPC console at https://console.aws.amazon.com/vpc/.

1. In the navigation pane, choose Peering Connections, Create Peering Connection.

1. You can optionally name your VPC peering connection. Doing so creates a tag with a key of Name and a value that you specify.

1. Select the requester VPC in your account with which to request the VPC peering connection.

1. Ensure My account is selected.

1. Choose Another region, select the Region in which the accepter VPC resides.

1. Enter the ID of the accepter VPC.

1. Select **Create Peering Connection**.

In the confirmation dialog box, choose OK.

1. In the Region selector, select the Region of the accepter VPC.

1. In the navigation pane, choose Peering Connections. Select the VPC peering connection that you've created, and choose Actions, Accept Request.

1. In the confirmation dialog, choose Yes, Accept. A second confirmation dialog displays; choose Modify my route tables now to go directly to the route tables page, or choose Close to do this later.

Now that your VPC peering connection is active, you must add an entry to your VPC route tables to enable traffic to be directed between the peered VPCs. For more information, see Update your route tables for a VPC peering connection.



