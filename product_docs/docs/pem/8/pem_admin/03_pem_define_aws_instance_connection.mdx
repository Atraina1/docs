---
title: "Defining and Monitoring Postgres instances on AWS"
legacyRedirectsGenerated:
  # This list is generated by a script. If you need add entries, use the `legacyRedirects` key.
  - "/edb-docs/d/edb-postgres-enterprise-manager/user-guides/administrators-guide/8.0/pem_define_aws_instance_connection.html"
---

There are two scenarios in which you can monitor a Postgres instance on an AWS host with PEM. You can monitor a:

-   Postgres Instance running on AWS EC2
-   Postgres Instance running on AWS RDS

## Monitoring a Postgres Instance Running on AWS EC2

After creating a Postgres instance on AWS EC2, you can use the PEM server to register and monitor your instance. The following scenarios are currently supported:

-   Postgres instance and PEM Agent running on the same AWS EC2 and a PEM Server running on your local machine.
-   Postgres instance and PEM Agent running on the same local machine and a PEM Server running on AWS EC2.
-   Postgres instance and PEM Agent running on the same AWS EC2 and a PEM Server running in different AWS EC2.

!!! Note
    In the first two scenarios, you must configure the VPN on AWS EC2 , so the AWS EC2 instance can access the `pem` database. Please contact your network administrator to setup the VPN if needed.

The PEM Agent running on AWS EC2 or on your local machine should be registered to the PEM Server. Please note that when registering the PEM Agent with the PEM Server you should use the hostname of AWS EC2 instance. For more details on registering the PEM Agent see, [Registering an Agent](../pem_agent/02_registering_agent/).

You can register the Postgres instance running on AWS EC2 on PEM Server using the `Create - Server` dialog. For more details on registering the server using `Create - Server` dialog see, [Registering a Server](02_registering_server/#registering_server). Use the `PEM Agent` tab on the `Create - Server` dialog to bind the registered PEM Agent with the Postgres instance.

When the PEM Agent is registered to the PEM Server and your Postgres instance that is running on AWS EC2 is registered to the PEM Server, you can monitor your instance with PEM.

## Monitoring a Postgres Instance Running on AWS RDS

While creating an AWS RDS database, choose `PostgreSQL` when prompted for `Engine options`. After creating a `Postgres(RDS)` instance on AWS, use `Create - Server` dialog to register the `Postgres(RDS)` instance to the PEM Server. For more information see [Registering a Server](02_registering_server/#registering_server). Using this dialog you can describe a new server connection, bind the server to a PEM Agent, and display the server to the PEM browser tree control.

You need to bind your `Postgres(RDS)` to a PEM agent that resides on a different host (i.e. remote monitoring). In remote monitoring, the PEM agent does not have access to all of the statistical information about the cluster. See [Remote Monitoring Capabilities](../pem_admin/02a_pem_remote_monitoring) for details on what level of information is available.