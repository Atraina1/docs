---
title: "Example: Deploying EDB Postgres Distributed"
navTitle: "Example: Deploying EDB Postgres Distributed"
---


The following steps setup EDB Postgres Distributed with the Always On Silver
architecture using Amazon EC2.

1. Generate a configuration file:
   ```
   $ tpaexec configure myedbdpcluster --architecture BDR-Always-ON --layout Silver --platform aws
   ```

   This creates a subdirectory directory in current working directory called `myedbdpcluster` containing the `config.yml` configuration file TPAexec uses to create the cluster. Edit the `config.yml` as needed, for example to change the IP address range used for servers or adjust locations of nodes.

1. Provision the cluster. :
   ```
   tpaexec provision myedbdpcluster
   ```
   Since we specified AWS as the platform, TCAexec provisions EC2 instances, VPCs, subnets, routing tables, internet gateways, security groups, EBS volumes, elastic IPs, and so on.

1. Deploy the needed packages, configuration and setup the actual EDB Postgres Distributed cluster:
   ```
   tpaexec deploy myedbdpcluster
   ```

After the successful run of the `deploy` command the cluster is ready to use. You can connect to it via `psql` or any other database client.

It's also possible to run a test that ensures the cluster is running as expected:
```
tpaexec test myedbdpcluster
```


