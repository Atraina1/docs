---
title: Virtual Network Peering Example
---

These are the steps to connect using Virtual Network Peering. 

#### Prerequisites

Assume that your EDB Cloud cluster is on a subscription called `development` and is being accessed from a VM on another subscription `test`. To walk through an example in your own environment, you need: 
 - Your EDB Cloud cluster URL. You can find the URL in the **Connect** tab of your cluster instance in the EDB Cloud portal.
 -  IP address of your EDB Cloud cluster. For example:
   ```
  $ dig +short p-c4j0jfcmp3af2ieok5eg.brcxzr08qr7rbei1.edbcloud.io 
  10.240.1.218
 ```
 -  A Linux VM called `vm-client` on subscription `test` with the following properties:
    -   Subscription: `test`
    -   resource group: `rg-client`
    -   virtual network: `vnet-client`
    -   virtual network subnet: `snet-client`
 - [psql Postgresql client](https://www.postgresql.org/download/) installed on your VM.

#### Step 1: Create a virtual network peering link

You need to add two peerings links from both the VM VNet `vnet-client` side
and your EDB Cloud VNet `vnet-japaneast` side. One approach is to add the links from the VM's VNet `vnet-client` side,
in the **Peerings** page of the Virtual Network portal.

1. Add two peering links called `peer-client-edb` and `peer-edb-client`,
to join the address space of two virtual networks
together. To simplify the process, Azure creates both peering links for you when you add peering from
either side.

![](../images/image25.png)

![](../images/image7.png)

#### Step 2: Access EDB Cloud cluster PG service directly

Access the EDB Cloud cluster PG with its domain name from your cluster's
connection string. It is accessible from `vnet-client` after peering.

![](../images/image20.png)
