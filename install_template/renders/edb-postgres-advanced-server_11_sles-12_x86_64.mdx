# Installing EDB Postgres Advanced Server 11 on SLES 12 x86_64

There are three steps to completing an installation:

- Setting up the repository(#setting-up-the-repository)
- Installing the package(#installing-the-package)
- Performing the initial configuration(#initial-config)

For each step, you must be logged in as superuser.

```shell
# To log in as a superuser:
sudo su -
```

Before setting up the repository, you need to register with EDB. To receive credentials for the EDB repository, visit: [Repository Access Request](https://www.enterprisedb.com/repository-access-request).

## Setting up the Repository

```shell
# Install the repository configuration
zypper addrepo https://zypp.enterprisedb.com/suse/edb-sles.repo

# Refresh the metadata
zypper refresh

# Install SUSEConnect to register the host with SUSE, allowing access to SUSE repositories
zypper install SUSEConnect

# Store your SUSE registration information for use by the next command.
# For non-interactive scenarios, remove these lines and
# replace $SUSE_REGISTRATION_CODE and $SUSE_EMAIL with your registration information
printf "Enter SUSE subscription registration code: " && read -r SUSE_REGISTRATION_CODE
printf "Enter SUSE subscription email: " && read -r SUSE_EMAIL

# Register the host with SUSE, allowing access to SUSE repositories
SUSEConnect -r $REGISTRATION_CODE -e $EMAIL

# Activate the Package Hub and SDK packages
SUSEConnect -p PackageHub/12.5/x86_64
SUSEConnect -p sle-sdk/12.5/x86_64

# Refresh the metadata
zypper refresh

# Install OpenJDK (version 1.8) for Java based components
zypper -n install java-1_8_0-openjdk
```

## Installing the Package

```shell
zypper -n install edb-as11-server
```

## Initial Configuration

1. Initialize the database cluster:

   ```sh
   PGSETUP_INITDB_OPTIONS="-E UTF-8" /usr/edb/as11/bin/edb-as-11-setup initdb
   ```

1. Start the database cluster:

   ```sh
   systemctl start edb-as-11
   ```

## Connecting to Your Database cluster

This section steps you through getting started with your cluster including logging in, ensuring the installation and initial configuration was successful, connecting to your cluster, and creating the user password.

1. To work in your cluster, login as `enterprisedb` user:

   ```sh
   su - enterprisedb
   ```

   See [Managing Your Cluster > Managing Services], for more information.

1. Connect to the database server using psql command line client:

   ```sh
   psql edb
   ```

   See [Managing Your Cluster > Connecting to Your Cluster], for more information including how to use pgAdmin4 to connect to your cluster using its graphical interface.

1. Then, assign a password to the database superuser `enterprisedb`:

   ```sh
   ALTER ROLE enterprisedb IDENTIFIED BY password;
   ```

## Creating a Database

This section steps you through creating and adding data to a simple database.

1. Create a database (named hr):

   ```sh
   CREATE DATABASE hr;
   ```

1. Connect to the new database and create a table (named dept):

   ```sh
   \c hr
   CREATE TABLE public.dept (deptno numeric(2) NOT NULL CONSTRAINT dept_pk
   PRIMARY KEY, dname varchar(14) CONSTRAINT dept_dname_uq UNIQUE, loc
   varchar(13));
   ```

1. Add data to the table:

   ```sh
   INSERT INTO dept VALUES (10,'ACCOUNTING','NEW YORK');
   INSERT into dept VALUES (20,'RESEARCH','DALLAS');
   ```

1. You can use simple SQL commands to query the database and retrieve information about the data you have added to the table:

   ```sh
   SELECT * FROM dept;
   deptno  |   dname    |   loc
   --------+------------+----------
   10      | ACCOUNTING | NEW YORK
   20      | RESEARCH   | DALLAS
   (2 rows)
   ```
