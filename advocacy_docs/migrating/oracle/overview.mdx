---
title: Overview for migrating your Oracle database
---

Organizations migrate their Oracle databases for a range of reasons including cost, license constraints, and the desire to move away from proprietary data centers. Legacy licenses drive up cost while constraining innovation and agility. For example, not every license is portable to every virtualization platform, every cloud, or every operating system.

## Approaches to migration
 
You can use any of several approaches to migrate your legacy database, depending on your use case: 

-  [Replatforming](#replatforming) 
-  [“Lift and shift” (rehosting)](#lift_and_shift)
-  [Restructuring](#restructuring)

### Replatforming

Replatforming migrates the underlying database platform to another database platform with minimal or no changes to the application. For example, you can migrate an application that uses an Oracle database to the Oracle-compatible EDB Postgres Advanced Server database. In this case, you typically don’t need to modify the application. However, you might need to make minor changes and will want to retest the application in the new environment.

Replatforming enables you to reduce database license costs and eliminate platform restrictions. Moving to the Postgres platform also lets you take advantage of the frequent innovations developed by the open source community.  

If the source application makes extensive use of database code (that is, stored procedures, functions, packages, and triggers), then these can be difficult to migrate. EDB's Oracle compatibility features can reduce the complexity of migrating such applications.

We will focus on this approach: migrating an Oracle database to the EDB Postgres Advanced Server database.

### “Lift and shift”

“Lift and shift,” also known as rehosting, moves your database to a new host platform without changing the underlying software components. For example, suppose your existing application is:

-  An Oracle database 
-  On Linux 
-  In a data center 

You can move this application to a cloud-based infrastructure-as-a-service (IaaS) or platform-as-a-service (PaaS) that supports a managed version of the Oracle database.

The use case for this approach is for applications that don’t need further development but that need to move out of the data center. Investing in replatforming, which is more resource intensive, doesn’t make sense if no further development is planned. 

​​This approach is also sometimes needed when an application is designed and supported to specifically work on a legacy database (such as Oracle). In these cases, if the organization wants to continue to use the application, then this might be the only option when moving to another hosting environment. 

### Restructuring

Restructuring, also known as refactoring, transforms a monolithic legacy application into multiple smaller applications, which often impacts the backend database. The database can be broken up or be equipped with services interfaces to support a more modular application architecture. 

The restructuring approach is typically taken during microservices transformations that result in container and Kubernetes-based architectures. Containers are a modern deployment mechanism and Kubernetes is a technology that's used to orchestrate their deployment and management at scale. Containers are typically lightweight and run single lightweight applications or services. Instead of one large application that uses a single monolithic architecture/database, more and more applications are being built to make up singularly focused services (i.e., micro services). 

Although you can use Postgres as the target databases for applications that are restructured, this approach typically requires a fair amount of redesign and more thought in performing these types of migrations. As EDB doesn’t have any specific tools or capabilities, other than professional services, to help with this effort, we will not focus on this approach.

### Migration approach summary

The table summarizes the migration approaches and when to consider each one.

| Migration approach  |Pros      | Cons | When considered  |
|---------------------|----------|------|------------------|
| Replatforming       | Easy way to reduce database license cost and eliminate platform restrictions;  Minimal changes to the application and existing integrations; take advantage of Postgres innovation | Might require minor application changes and retesting | High license cost databases with longer-term strategic role; use of database logic (stored procedures, packages) or proprietary features, as EDB Postgres Advanced Server can help with this with its Oracle compatibility features |
| Lift and shift      | Fast, easy, limited technology risk; easy way to move from the data center to the cloud; no changes to the application or the database | Doesn’t resolve legacy license issues or reduce license cost; doesn’t improve agility or innovation |  End-of-life applications that need to move out of the data center; moving out of the data canter is higher priority than innovating or reducing costs|
| Restructuring       | Move to open-source platform; highest degree of agility; supports move to Kubernetes and containers | Significantly longer migration cycle with higher technology risk | Applications that are part of larger scale digital transformation with a business case supporting extensive redesign|

## Migration techniques

A database migration from legacy to open source includes:	

-  Transforming the schema from a proprietary vendor’s extended version of the SQL standard to a version more compliant with standards 						
-  Rewriting data type definitions	
-  Rewriting queries and stored procedures		
-  Copying data	
-  Updating application APIs to use open source JDBC, .NET, ODBC, as most vendors have extended the standard protocols with proprietary extensions				
-  Verifying that the migrated database meets all the nonfunctional requirements related to performance, manageability, high availability, and integration with enterprise security requirements. 

You can perform the migration manually or automatically.

### Manual approach for transforming databases

Executing these transformations manually is expensive and error prone. Except for very small databases without any business logic and extremely simple application logic, we don’t recommend this approach.

### Automated approaches to database migration 

Two automated approaches are recommended instead of a manual approach: 	

-  The *native compatibility* approach extends the open source database’s capabilities and creates a native implementation of the proprietary vendor’s extensions of the SQL standard, including the APIs and protocols. EDB Postgres Advanced Server has a native implementation for Oracle’s procedural SQL language PL/SQL, which includes packages and Oracle’s proprietary driver extensions to ODBC, JDBC, .NET and OCI. This implementation allows code that was written for the Oracle database to run directly on EDB Postgres Advanced Server with minimal changes. 

    The open source tool ORAFCE also attempts to provide some level of compatibility with Oracle, although not to the same degree as EDB’s tools. We will focus on the EDB Postgres Advanced Server native compatibility approach.

-  The *translation* approach uses automated tools to rewrite (or translate) the definitions, queries and stored procedures from the proprietary database to the open source database. The translation approach is used by AWS’s Schema Conversion Tool (SCT), Ispirer’s MnMTK, and the open source tool ORA2PG. In the end, most organizations want their applications to run on pure open source PostgreSQL to avoid vendor lock-in. This can be done via translation. However, depending on the number of objects that need to be translated, the time and effort required to get to a pure open-source solution might not be supported by your schedule or resources.

### Timelines for database migration based on approach

The time it takes to perform the migration depends on the approach used. One of our large media customers migrated their Oracle database containing 10,938 database objects (tables, stored procedures, packages, etc.) in 35 person days, including data transfer and testing; 91% of all the objects were supported by EDB’s native compatibility. Only two packages, which included approx 9% of the code, needed to be rearchitected for compatibility with EDB Postgres Advanced Server.

In the same application, only the storage objects (tables and views) and some functions were open source Postgres-compatible using the translation approach with ORA2PG. The rearchitecting approach for 65% of the code was estimated to be between 1.5 and 2 person years of effort.

In another example, a telecom provider was migrating a database with 15 procedures and nine functions, all defined in one custom Oracle package. The logic made extensive use of DBMS_LOB, DBMS_SESSION, DBMS_ XMLGEN.convert(), and the PIPELINED table function.

This customer targeted a migration directly to open source Postgres, which required reworking all the business logic in a migration project, requiring 35 person days of effort using the translation approach. Using the EDB Postgres Advanced Server native compatibility approach, this migration could have been executed in approximately three person days, with minimal impact to the application and with minimal retesting. 

## The database migration “journey”

Migrating your database consists of a nine-step “journey.”

### 1. Decide to migrate

First, your organization must make the decision to migrate. [business case, organizational alignment]

### 2. Analyze feasibility and alternatives

Start the migration process by determining the database objects and data to include in the migration. Form a migration team that includes someone with solid knowledge of the architecture and implementation of the source system.

It is also important to identify potential migration problems. For an Oracle-to-EDB Postgres Advanced Server migration, see the [Analyzing feasibility](analyzing_feasibility) for details.

You'll also want to:

-  Review your application portfolio to determine whether all of your applications will migrate. 
-  Align your migration plans with IT strategy. The desire to migrate must correspond to an organizational commitment to completing the migration. It will take time, resources, and budget.
-  Determine whether to run your applications in the cloud (and which cloud) or on premises. 
-  Decide whether to use an open source platform or a proprietary one.

### 3. Plan migration

Planning your migration involves these processes:

-  Prioritize applications. Which application is the most important to migrate? This can help you to zero in on the compatibilities that are most important.
-  Decide on the approach (replatform, lift and shift, restructure). See [Approaches to migration](#approaches_to_migration).
-  Define nonfunctional requirements, such as performance and availability.
-  Design the solution at a high level.
-  Estimate effort.
-  Prepare the migration environment. Obtain and install the needed software, and establish connectivity between the servers.

### 4. Migrate database schema, code, and data

You’ll need to perform these steps to migrate the database:

-  Move the schema. If the migration involves a large body of data, consider migrating the schema definition before moving the data. Verify the results of the DDL migration and resolve any problems reported in the migration summary.
-  Migrate database functionality
-  Migrate data as a snapshot (copy at a particular point in time) or change data capture (CDC).

### 5. Migrate interfaces and application

You’ll need to modify the application, which involves:

-  Migrating APIs (JDBC, ODBC, OCI, .NET, and so on)
-  Converting embedded application SQL
-  Migrating applications

### 6. Migrate reports and management tools

In this phase, you’ll migrate reports, DBA utilities, and scripts.

### 7. Test the migration

Whatever the size of your migration, you’ll need to validate that the migrated application operates the same as the original application. To that end, you’ll need tests to:

 -  Confirm the results of the data migration and resolve any problems reported in the migration summary.
 -  Ensure that the application is functionally the same
 -  Validate that the performance metrics are acceptable

### 8. Optimize and configure post migration

In this phase, you’ll test the system performance and tune the new server. 

Convert applications to work with the newly migrated Postgres database. Applications that use open standard connectivity such as JDBC or ODBC normally require changes only to the database connection strings and selection of the EnterpriseDB driver. See [Connecting an application to Postgres](../migration_toolkit/latest/03_migration_methodology/#connecting_application_postgres) for more information.

### 9. Complete cutover/go live

This phase consists of the following:

-  Completion of CDC
-  Go/no-go
-  Production cutover

## EDB tools for each phase of the journey

One advantage of performing the migration from Oracle to EDB Postgres Advanced Server is the experience EDB has in performing these migrations. For each phase, we offer tools and services that make the migration easier. We will also discuss your business requirements and help you with the decision to migrate and which approach works best for you.

### Assess feasibility 

Use these tools and services to assess the feasibility of your migration:

-  Migration Portal. Business logic, mostly stored procedures, is generally seen as a major migration obstacle during manual migrations or when using the translation approach. Migration Portal is EDB’s tool, provided on a public website, that helps you to assess your Oracle data definition language for its ability to migrate to EDB Postgres Advanced Server.  
-  Migration assessment service. 

See [Analyzing feasibility](analyzing_feasibility) for information on compatibility between Oracle and EDB Postgres Advanced Server. 

### Plan migration 

EDB provides these services to help you to plan your migration: 

-  Migration assessment
-  Enterprise architecture
-  Solution design

### Migrate schema, code, and data 

For migrating the schema, the following EDB tools and services will help:
 
-  EDB Postgres Advanced Server. Compatibility with Oracle simplifies the migration. 
-  Migration Portal. In addition to providing assessment reports, the Migration Portal can convert an Oracle schema to an EDB Postgres Advanced Server-compatible version and has features to help load that schema into an EDB Postgres Advanced Server instance.
-  Migration Toolkit\*. Migration Toolkit helps with migrating database objects and data to an EDB Postgres Advanced Server or PostgreSQL database from Oracle. 
    (Migration Toolkit also helps to migrate from MySQL and Microsoft SQL Server. You can also use Migration Toolkit to migrate database objects and data from Sybase Adaptive Server Enterprise to EDB Postgres Advanced Server or between EDB Postgres Advanced Server and PostgreSQL.)
-  Replication Server. EDB Postgres Replication Server provides a robust data platform that replicates from non-PostgreSQL databases to PostgreSQL in single-master mode. You can use it as an alternative to Migration Toolkit for migrating data from Oracle to Postgres. It is especially useful when application downtime is a concern.
-  Database links and foreign data wrappers (FDW). You can also use these technologies to help migrate data from an Oracle database. Where you use the Migration Toolkit and Replication Server tools to automatically push data from Oracle to Postgres, you use database links and FDWs to pull data from Oracle into Postgres.  Setup of DB links and FDWs and migration of data using them is more of a manual process.
-  Quick-deploy service.

\*For small data sets, use Migration Toolkit. If it's an Oracle migration into EDB Postgres Advanced Server, and the data set is large or if you notice slow data transfer, take advantage of one of the other data movement methods available:
    -  Use the EDB Postgres Advanced Server database link feature compatible with Oracle databases.
    -  If your data has BLOB or CLOB data, use the dblink_ora style database links instead of the Oracle style database links.
    Both of these methods use the Oracle Call Interface (OCI) to connect to Oracle. After connecting, use an SQL statement to select the data from the “linked” Oracle database and insert the data into the EDB Postgres Advanced Server database.

### Migrate application and interfaces

[I could use some intro material here to describe what’s in this bullet list and what they will help you to do.]

-  EDB Postgres Advanced Server (Oracle-compatible Postgres)
-  Oracle-compatible database connectors
-  JDBC, ODBC, OCI, .NET
-  Embedded Postgres SME service

### Migrate reports and management tools

These tools and services will help you to migrate your reports and manage your database:

-  EDB\*Plus. EDB\*Plus is a command line interface to EDB Postgres Advanced Server. EDB\*Plus accepts SQL commands, SPL anonymous blocks, and EDB\*Plus commands. EDB\*Plus commands are compatible with Oracle SQL\*Plus commands.
-  EDB\*Loader. EDB\*Loader is a high-performance bulk data loader that provides an interface compatible with Oracle databases for EDB Postgres Advanced Server. The EDB\*Loader utility loads data from an input source, typically a file, into one or more tables using a subset of the parameters offered by Oracle SQL\*Loader.
-  Embedded Postgres SME service

### Test the migration

To test the migration, use these tools and services: 

-  LiveCompare. LiveCompare compares any number of databases to verify they are identical. After comparing the databases, the tool generates a comparison report, a list of differences, and data manipulation language (DML) scripts. You can apply the DML and fix the inconsistencies in any of the databases.
-  Postgres Enterprise Manager (PEM). PEM consists of components that provide the management and analytical functionality for your EDB Postgres Advanced Server or PostgreSQL database. PEM is a comprehensive database design and management system. PEM simplifies creating, maintaining, and using database objects.
-  Embedded Postgres SME service.

### Optimize and configure post-migration system

To optimize and configure your system after migration, use these EDB tools and services: 

-  Postgres Enterprise Manager (PEM). PEM helps you to manage and analyze your EDB Postgres Advanced Server or PostgreSQL database. 
-  Barman. Barman (Backup and Recovery Manager) is an open-source administration tool for remote backups and disaster recovery of PostgreSQL servers. Configure backups after performing the migration.
-  EDB Failover Manager. EDB Failover Manager is a tool for managing Postgres database clusters, enabling high availability of primary-standby deployment architectures using streaming replication. Failover Manager provides a Postgres primary database node automatic failover to a standby database node in the event of a software or hardware failure.
-  Postgres-BDR (bi-directional replication). BDR is a PostgreSQL extension providing multi-master replication and data distribution with advanced conflict management, data-loss protection, and throughput up to five times faster than native logical replication, and enables distributed PostgreSQL clusters with high availability up to five 9s.
-  Performance tuning service
-  Monitoring best practices service
-  Backup best practices service
-  Embedded Postgres SME service

If you're migrating into an EDB Postgres Advanced Server database, take advantage of EDB Postgres Advanced Server's performance tuning utilities:

-  Use Dynatune to dynamically adjust database configuration resources.
-  Use Optimizer Hints to direct the query path.
-  Use the ANALYZE command to retrieve database statistics.

See [EDB Postgres Advanced Server](../epas/latest/) and [Database Compatibility for Oracle Developers](../epas/latest/epas_compat_tools_guide/) for information about the performance tuning tools available with EDB Postgres Advanced Server.

### Complete cutover/go live

These tools help with this phase: 

-  Replication Server. EDB Postgres Replication Server (EPRS) provides a robust data platform that replicates from non-PostgreSQL databases to PostgreSQL in single-master mode.
-  LiveCompare. LiveCompare compares databases to verify they are identical. The tool compares the databases and generates a comparison report, a list of differences and DML scripts so you can optionally apply the DML and fix the inconsistencies in any of the databases. This report helps you to know if you are ready to go live or if you still need to address inconsistencies.
-  Embedded Postgres SME service 
