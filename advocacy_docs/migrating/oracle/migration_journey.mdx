---
title: The database migration “journey”
---

Migrating your database consists of a nine-step “journey.”

![Migration journey](images/journey.png)

## 1. Decide to migrate

First, your organization must make the decision to migrate. You might decide you're spending too much money on your legacy database system. You might have initiatives that your current database technology doesn't support well. Or maybe you want to move to the cloud or take advantage of open source software. These are common factors that might lead to your business case for migrating.

Once you have your business case and your organization buys into it, your organization must commit to performing the migration. Commitment includes funding and resources to perform the migration.

## 2. Analyze feasibility and alternatives

Analyze your alternatives and look at the feasibility of migrating to certain databases. You'll want to:

-  Review your application portfolio to determine whether all of your applications will migrate. As part of this review, you'll look at which applications have legacy databases that you can and want to migrate from. Align your migration priorities with IT strategies to ensure these are important enough business applications to consider for migration. As part of reviewing your application portfolio, you might decide that some applications can be retired. There might be other applications in your porfolio that you want to migrate but can't because they are supported only on the existing database. As you are identifying a candidate set of applications to migrate, keep in mind that the desire to migrate them must correspond to an organizational commitment to completing the migration. It will take time, resources, and budget. 
-  Evaluate which database technologies are the right choice as the migration target for each of your applications. In many cases, EDB Postgres Advanced Server will be an ideal choice to replace Oracle. However, some applications have requirements that might be better addressed by other solutions. After selecting the appropriate set of target database technologies, a follow-on step is to perform a more detailed assessment of how complex the migration will likely be. When EDB Postgres Advanced Server is a potential target, you can use the EDB Migration Portal to assesss how compatible the Oracle schema and procedural objects in the database are with EDB Postgres Advanced Server. This information is important in the next step of the journey.
-  If you're considering a migation of a large estate of applications, perform a first-level pass at identifying the applications you want to move first. Are some so important that there would be more risk in moving them? You will also want to look at the difficulty of the migrations and prioritize them based on that. 
-  Decide on the hosting environment you will be targeting for your migration. See [Infrastructure considerations](factors_to_consider/#infrastructure-considerations) for more information about the options you have for hosting the EDB Postgres Advanced Server database. Are you currently running on premises? Do you want to stay on premises or move to cloud? Or are you on the cloud and perhaps that has not worked out and you need to move back to on premises or to another cloud provider?
-  Although you will perform a more thorough review of solutions to address specific compatility issues that are encountered later in the journey, it's also important to identify potential migration problems in this early stage of the journey. For an Oracle-to-EDB Postgres Advanced Server migration, see [Consider compatibility issues](consider_compatibility) for details.

The main goals of this step are to obtain
- an understanding of which applications are good candidates for migration
- an analysis of the different technology and vendor options for the migrations
- a big picture understanding of the overall level of effort, time, and cost to complete all the migrations

The cost of continuing on current technology and platforms versus migrating to new technologies and platforms is also considered.


## 3. Plan the migration

Planning your migration involves these processes:

-  Prioritizing the applications to be migrated. Once you've decided on the applications to migrate, prioritize the order in which you will migrate them. Organizations often consider selecting the most difficult ones because they believe that if they can do the most difficult migration, then all the other ones will be easier. However, we usually recommend picking one that is moderately important to you&mdash;not necessarily the most valuable to customers&mdash;and also not the most difficult. This way you can learn from the process. Then select the next ones based on what you learned from that first migration and so on until you eventually get to the most valuable and most difficult.
-  Identifying nonfunctional requirements, such as performance, availability, management, and integration.
-  Designing the solution at a high level, including both the migration architecture and the post migration architecture. For example, select the database, the platform, the type of migration, your high-availability requirements, and so on.
-  Estimating the migration effort. Out of your analysis comes a sense of how much time and resources are required to do the migrations.
-  Preparing the migration environment. Obtain and install the needed software, and establish connectivity between the servers.

Giving sufficient attention to this step will lead to a greater chance of success and reduce the number of unwanted surprises late in the migraiton process.  Form a migration team that includes someone with solid knowledge of the architecture and implementation of the source system. 

## 4. Migrate database schema, code, and data

When it comes to an application database migration project, this is the step that most commonly comes to mind first.  This is the step in which the actual database is migrated from the source system to the target system.  You’ll need to perform these steps to migrate the database:

-  Move the schema. The schema provides the structure in which the data is stored and organized in the database.  As such, the schema needs to be moved first. When migrating a schema, there will usually be differences in the schema objects that are present in the Oracle database and those objects that can be created in the target database.  Due to EDB Postgres Advanced Server's compatibility for Oracle features, many compatiblity issues will automatically be addressed that would otherwise not be addressed by other target database options.  The main task to be accomplished during this step is to implement workarounds for those schema objects that are not compatible or cannot be converted automatically. Schema objects are created using a SQL based data definition language (DDL). EDB's migration portal can be used to assess the compatibity of the Oracle DDL with EDB Postgres Advanced Server.  It also performs a number of automatic conversions by way of its repair handlers as part of the assessment process.  After performing a Migration Portal assessment, the next step will be to verify the results of the DDL migration and resolve any problems identified in the assessment report.
-  Migrate the database functionality (i.e., database procedural objects). This includes the code that exists in the database, such as procedures and functions that are called by the application or triggers that that database uses.  Like the schema objecs, the database code objects are also created using DDL.  In addition, the code objects are closely tied to the schema objects, either referencing them or being referenced by them.  Therefore, the database code objects are usually migrated at the same time as the other schema objects. As with the other schema objects, the main activity in this step in the execution of the database migration is to identify and implement workarounds for database code objects that are not compatible or are not able to be automatically converted.  Since Oracle's procedural language (PL/SQL) is different than other database native built-in languages, this can often be the most challenging task in a database migration, especially if the source database contains a large number of code objects or the code objects consist many lines of complex code.  This is where EDB Postgres Advanced Server's PL/SQL implementation, which natively provides many of the most commonly used PL/SQL features, becomes signficant.  These features can greatly reduce the amount of effort required for completing this step.  The Migration Portal asseesses Oracle database code objects in addition to the other schema DDL and has features to update and reassess incompatible objects.
-  Migrate the data in the database. When migrating the data, there are two basic options.  The first option is to move all of the desired data via a snapshot process (copy of all data at a particular point in time).  This option is often chosen when the database is relatively small or ,in the case of a production migration, the application downtime that may be required to complete the migration is acceptable. Note that a snapshot replication can be performed periodically to refresh the contents of the target database with the current contents of the source dataabse.  However, such periodic refreshes usually require removing all the previously copied data from the target system and migrating all of the data again.  The second option is to migrate the data on an ongoing continuous basis using change data capture (CDC) techniques. As part of every change data capture process, the initial load is done by some sort of snapshot. However, after the initial snapshot, some change data capture mechanism is used to identify subsequent changes made in the source database and transfer the changes to the target database. The CDC based data migration option is usually chosen when minimal downtime is required and it is important to keep the target system in synch with data changes being made in the source system. The EDB Migration Toolkit can be used to perform snapshot type data migrations and the EDB Replication Server can be used to perform CDC based data migrations from Oracle to Postgres.

## 5. Migrate interfaces and application

Convert applications to work with the newly migrated Postgres database. The application is the code external to the database that interacts with the database. 

Migrating the application involves:

-  Migrating APIs (JDBC, ODBC, OCI, .NET, and so on). Applications that use open standard connectivity such as JDBC or ODBC normally require changes only to the database connection strings and selection of the EnterpriseDB driver. See [Connecting an application to Postgres](../migration_toolkit/latest/03_migration_methodology/#connecting_application_postgres) for more information.
-  Converting embedded application SQL. The SQL might have been built to work with the source database. Sometimes there's a specific syntax that Oracle supports that might not be supported in Postgres. In this case, you might need to do some conversion of that SQL so that it works with Postgres.
-  Migrating applications. There might be some movement of the migration&mdash;where it's hosted and its configuration&mdash;that needs to take place along with migrating the source code.

## 6. Migrate reports and management tools

In this phase, you’ll migrate reports, DBA utilities, and scripts. Organizations often have reporting mechanisms and other management tools that query the database. You'll need to update those reports and utilities that interact with the source database so they'll work with your target database.

## 7. Test the migration

Whatever the size of your migration, you’ll need to validate that the migrated application operates the same as the original application. You'll be testing all along, but at some point, you need to do a formal set of tests to:

 -  Confirm the results of the data migration and resolve any problems reported in the migration summary
 -  Ensure that the application is functionally the same
 -  Validate that the performance metrics are acceptable

## 8. Optimize and configure post migration

In this phase, you’ll test the system performance and tune the new server, setting parameters of the database so that it runs optimally. You might need to make changes to the queries that you execute against the database so that it performs better than it would if it was taking a generic query. The application also might have had some Oracle-specific tuning that you might need to tune specifically for Postgres.

This phase is also the time to address your high availability, disaster recovery, and security requirements, as well as how users and applications authenticate to the database and who's authorized to perfom each action.

## 9. Complete cutover/go live

This phase consists of the following:

-  Completion of CDC.
-  Rollback setup. Set up the rollback configuration so that the source database is receiving updates from the target database and it'll be there as a fallback position in case you're not able to complete the migration successfully. This way, you can go back to running the application against the source database. Moving data back to the target database is often done through a change data capture mechanism.
-  Go/no-go. Test the target database and, if you're confident that the application is performing well in the new environment, you'll make a go/no-go decision, 
-  Production cutover. Once you complete the cutover and are satisfied with it, usually you'll remove the fallback position of sending the change data capture back to the target data source database. At that point, you'll run only in the production system.
